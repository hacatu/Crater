<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Crater Container Library: cr8r_kd_s2i64 Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Crater Container Library
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">cr8r_kd_s2i64 Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A KD tree storing points on a sphere in 3D.  
 <a href="structcr8r__kd__s2i64.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="kd__tree_8h_source.html">kd_tree.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a3fb409acb49c9a45863b2c0053e143cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcr8r__vec.html">cr8r_vec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcr8r__kd__s2i64.html#a3fb409acb49c9a45863b2c0053e143cb">points</a></td></tr>
<tr class="memdesc:a3fb409acb49c9a45863b2c0053e143cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The points and associated data in the tree.  <a href="structcr8r__kd__s2i64.html#a3fb409acb49c9a45863b2c0053e143cb">More...</a><br /></td></tr>
<tr class="separator:a3fb409acb49c9a45863b2c0053e143cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd54937c8346fa42b24894c43a3de9b9"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcr8r__kd__s2i64.html#acd54937c8346fa42b24894c43a3de9b9">radius</a></td></tr>
<tr class="memdesc:acd54937c8346fa42b24894c43a3de9b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The radius of the sphere on which the points lie.  <a href="structcr8r__kd__s2i64.html#acd54937c8346fa42b24894c43a3de9b9">More...</a><br /></td></tr>
<tr class="separator:acd54937c8346fa42b24894c43a3de9b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A KD tree storing points on a sphere in 3D. </p>
<p>Note that this stored as an implicit KD tree and so does not provide fast insertion/removal, only fast building and retrieval. This is not suitable for use cases where a lot of insertion/removal is required.</p>
<p>Also, the reason that separate data structures are used for different kinds of KD trees (points on a sphere in 3D, points in a rectangle in 2D, points in a cuboid in 3D, etc), is because using a generic interface would be very cumbersome since a lot of comparison functions would be needed. This is a serious shortcoming, and eventually the library may provide spherical/cylindrical KD trees, rectangular KD trees, and generic KD trees. After all, the entire point of having the <a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> pointer argument to the comparison function is so that one comparison function can be used for multiple coordinates and things like that. However, that was originally intended to allow users to overload functions. Using it here differs from that intent in two ways: we would have KD trees modifying their own ft-&gt;data, and we would be preventing users from attaching their own data to ft-&gt;data. However, the existing KD tree implementation already modifies ft-&gt;cmp, and some functions for other data structures modify ft-&gt;copy or ft-&gt;free/ft-&gt;del (this is always done in a copy), and we already provide ft-&gt;alloc/ft-&gt;free for avl trees and linked lists that wrap slab allocators, and these wrappers already restrict how the user may define ft-&gt;data (requiring a pointer to a slab allocator as the first thing in ft-&gt;data).</p>
<p>These are <a class="el" href="structcr8r__kd__i64x3__pt.html">cr8r_kd_i64x3_pt</a>'s so they have three coordinates, but we can sort them in only two dimensions since they are constrained to the surface of a sphere. We use the ratio of x to y and the sign of x and y as the first dimension and z as the second dimension. </p>

<p class="definition">Definition at line <a class="el" href="kd__tree_8h_source.html#l00060">60</a> of file <a class="el" href="kd__tree_8h_source.html">kd_tree.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a3fb409acb49c9a45863b2c0053e143cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb409acb49c9a45863b2c0053e143cb">&#9670;&nbsp;</a></span>points</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcr8r__vec.html">cr8r_vec</a> cr8r_kd_s2i64::points</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The points and associated data in the tree. </p>
<p>The tree is stored implicitly in this vector, just like a standard implicit binary heap. The downside of this is insertion/removal cannot be implemented efficiently, since these require a more complicated structure like a kdb tree. </p>

<p class="definition">Definition at line <a class="el" href="kd__tree_8h_source.html#l00065">65</a> of file <a class="el" href="kd__tree_8h_source.html">kd_tree.h</a>.</p>

</div>
</div>
<a id="acd54937c8346fa42b24894c43a3de9b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd54937c8346fa42b24894c43a3de9b9">&#9670;&nbsp;</a></span>radius</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t cr8r_kd_s2i64::radius</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The radius of the sphere on which the points lie. </p>
<p>Note that x**2 + y**2 + z**2 = r**2 so this can be computed from any point in the tree. However, it is needed in just about every tree operation (and can't be computed from an empty tree) so it is stored separately. We can also obviously get z from x, y, r, and sgn(z), but again this would be inefficient. </p>

<p class="definition">Definition at line <a class="el" href="kd__tree_8h_source.html#l00071">71</a> of file <a class="el" href="kd__tree_8h_source.html">kd_tree.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/crater/<a class="el" href="kd__tree_8h_source.html">kd_tree.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
