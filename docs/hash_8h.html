<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Crater Container Library: include/crater/hash.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen_awesome_sidebar.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="/Crater/index.html">Crater Container Library</a><span id="projectnumber">&#160;0.2.0</span>
   </div>
  </td>
 </tr>
   <!--BEGIN FULL_SIDEBAR-->
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td></tr>
   <!--END FULL_SIDEBAR-->
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('hash_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hash.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>hacatu </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.3.0 A fast hash table using quadratic probing and an incremental split table for growing. If the table needs to be extended, a second internal table will be created. All new entries will be placed in the second table, and all hash table operations will move one entry from the old table to the new table, to amortize the cost.</dd></dl>
<p>This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>. </p>

<p class="definition">Definition in file <a class="el" href="hash_8h_source.html">hash.h</a>.</p>
</div>
<p><a href="hash_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hash table.  <a href="structcr8r__hashtbl__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function table for hash table.  <a href="structcr8r__hashtbl__ft.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcr8r__htent__cstr__u64.html">cr8r_htent_cstr_u64</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">entry type for cstr -&gt; uint64_t mapping  <a href="structcr8r__htent__cstr__u64.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a57c64025667f7e124cf12277a0055669"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#a57c64025667f7e124cf12277a0055669">cr8r_hash_ft_init</a> (<a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *, void *data, uint64_t size, uint64_t(*hash)(const <a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, const void *), int(*cmp)(const <a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, const void *, const void *), int(*add)(<a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, void *, void *), void(*del)(<a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, void *))</td></tr>
<tr class="memdesc:a57c64025667f7e124cf12277a0055669"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function to initialize a <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a>.  <a href="hash_8h.html#a57c64025667f7e124cf12277a0055669">More...</a><br /></td></tr>
<tr class="separator:a57c64025667f7e124cf12277a0055669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed62bd620bc2114e84247fc8122ec58"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#abed62bd620bc2114e84247fc8122ec58">cr8r_hash_init</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, const <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *, uint64_t reserve)</td></tr>
<tr class="memdesc:abed62bd620bc2114e84247fc8122ec58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a hash table.  <a href="hash_8h.html#abed62bd620bc2114e84247fc8122ec58">More...</a><br /></td></tr>
<tr class="separator:abed62bd620bc2114e84247fc8122ec58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec8f26b3fd50f09f1c5f77df1db1d74"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#aaec8f26b3fd50f09f1c5f77df1db1d74">cr8r_hash_get</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, const <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *, const void *key)</td></tr>
<tr class="memdesc:aaec8f26b3fd50f09f1c5f77df1db1d74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to an entry in the hash table.  <a href="hash_8h.html#aaec8f26b3fd50f09f1c5f77df1db1d74">More...</a><br /></td></tr>
<tr class="separator:aaec8f26b3fd50f09f1c5f77df1db1d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb4908370871efaf5e1f9062e705d53"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#a5cb4908370871efaf5e1f9062e705d53">cr8r_hash_insert</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, const <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *, const void *key, int *status)</td></tr>
<tr class="memdesc:a5cb4908370871efaf5e1f9062e705d53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an element into the hash table.  <a href="hash_8h.html#a5cb4908370871efaf5e1f9062e705d53">More...</a><br /></td></tr>
<tr class="separator:a5cb4908370871efaf5e1f9062e705d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10b2be8a15ee34e093470226d4b4954f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#a10b2be8a15ee34e093470226d4b4954f">cr8r_hash_append</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *, void *key, int *status)</td></tr>
<tr class="memdesc:a10b2be8a15ee34e093470226d4b4954f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an element into the hash table or modify its value.  <a href="hash_8h.html#a10b2be8a15ee34e093470226d4b4954f">More...</a><br /></td></tr>
<tr class="separator:a10b2be8a15ee34e093470226d4b4954f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22608115942167ecbb8f360b221e6daa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#a22608115942167ecbb8f360b221e6daa">cr8r_hash_remove</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *, const void *key)</td></tr>
<tr class="memdesc:a22608115942167ecbb8f360b221e6daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the element with a given key.  <a href="hash_8h.html#a22608115942167ecbb8f360b221e6daa">More...</a><br /></td></tr>
<tr class="separator:a22608115942167ecbb8f360b221e6daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d9fee9a0b621015764ecfd9fdd88b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#ae5d9fee9a0b621015764ecfd9fdd88b4">cr8r_hash_delete</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *, void *ent)</td></tr>
<tr class="memdesc:ae5d9fee9a0b621015764ecfd9fdd88b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an element of the hash table by pointer.  <a href="hash_8h.html#ae5d9fee9a0b621015764ecfd9fdd88b4">More...</a><br /></td></tr>
<tr class="separator:ae5d9fee9a0b621015764ecfd9fdd88b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8653d192969d6e4aaf4550476848876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#ab8653d192969d6e4aaf4550476848876">cr8r_hash_clear</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *)</td></tr>
<tr class="memdesc:ab8653d192969d6e4aaf4550476848876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all entries from the hash table.  <a href="hash_8h.html#ab8653d192969d6e4aaf4550476848876">More...</a><br /></td></tr>
<tr class="separator:ab8653d192969d6e4aaf4550476848876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bd568a7a8d50a91bee2caab9611039"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#aa6bd568a7a8d50a91bee2caab9611039">cr8r_hash_destroy</a> (<a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *, <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *)</td></tr>
<tr class="memdesc:aa6bd568a7a8d50a91bee2caab9611039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the resources held by the hashtable.  <a href="hash_8h.html#aa6bd568a7a8d50a91bee2caab9611039">More...</a><br /></td></tr>
<tr class="separator:aa6bd568a7a8d50a91bee2caab9611039"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6217689ebc73d5f436c742785bf2c88c"><td class="memItemLeft" align="right" valign="top"><a id="a6217689ebc73d5f436c742785bf2c88c"></a>
const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#a6217689ebc73d5f436c742785bf2c88c">cr8r_hash_u64_prime</a></td></tr>
<tr class="memdesc:a6217689ebc73d5f436c742785bf2c88c"><td class="mdescLeft">&#160;</td><td class="mdescRight">arbitrary large prime <br /></td></tr>
<tr class="separator:a6217689ebc73d5f436c742785bf2c88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5a66e829cd938a6a26368dab1a9416"><td class="memItemLeft" align="right" valign="top"><a id="aff5a66e829cd938a6a26368dab1a9416"></a>
<a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#aff5a66e829cd938a6a26368dab1a9416">cr8r_htft_u64_void</a></td></tr>
<tr class="memdesc:aff5a66e829cd938a6a26368dab1a9416"><td class="mdescLeft">&#160;</td><td class="mdescRight">function table for using hash table as set of uint64_t's <br /></td></tr>
<tr class="separator:aff5a66e829cd938a6a26368dab1a9416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab430e3604f70cdf6798d653054d738db"><td class="memItemLeft" align="right" valign="top"><a id="ab430e3604f70cdf6798d653054d738db"></a>
<a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#ab430e3604f70cdf6798d653054d738db">cr8r_htft_u64_u64</a></td></tr>
<tr class="memdesc:ab430e3604f70cdf6798d653054d738db"><td class="mdescLeft">&#160;</td><td class="mdescRight">function table for using hash table as map rom uint64_t's to uint64_t's <br /></td></tr>
<tr class="separator:ab430e3604f70cdf6798d653054d738db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3f002ef56b70fb9e8150a0b47d744a"><td class="memItemLeft" align="right" valign="top"><a id="a6b3f002ef56b70fb9e8150a0b47d744a"></a>
<a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hash_8h.html#a6b3f002ef56b70fb9e8150a0b47d744a">cr8r_htft_cstr_u64</a></td></tr>
<tr class="memdesc:a6b3f002ef56b70fb9e8150a0b47d744a"><td class="mdescLeft">&#160;</td><td class="mdescRight">function table for using hash table as map from c strings to uint64_t's <br /></td></tr>
<tr class="separator:a6b3f002ef56b70fb9e8150a0b47d744a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a57c64025667f7e124cf12277a0055669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c64025667f7e124cf12277a0055669">&#9670;&nbsp;</a></span>cr8r_hash_ft_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cr8r_hash_ft_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t(*)(const <a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, const void *)&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const <a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, const void *, const void *)&#160;</td>
          <td class="paramname"><em>cmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(<a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, void *, void *)&#160;</td>
          <td class="paramname"><em>add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> *, void *)&#160;</td>
          <td class="paramname"><em>del</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function to initialize a <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a>. </p>
<p>Using standard structure initializer syntax with designated initializers may be simpler. However, this function provides basic checking (it checks the required functions aren't NULL). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>pointer to user defined data to associate with the function table. generally NULL is sufficient. see <a class="el" href="structcr8r__base__ft.html">cr8r_base_ft</a> for a more in-depth explaination </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of a single element in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hash</td><td>hash function. should not be NULL. See <a class="el" href="container_8h.html#abb88fd6f69fc60ba46d1600247301aa0">cr8r_default_hash_u64</a> for a basic uint64_t implementation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmp</td><td>comparison function. should not be NULL. See <a class="el" href="container_8h.html#adb4b61e520c0cee3c3d074635d6cdef4">cr8r_default_cmp</a> for a basic generic implementation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">add</td><td>element composition function. can be NULL for all functions besides <a class="el" href="hash_8h.html#a10b2be8a15ee34e093470226d4b4954f">cr8r_hash_append</a>. called to combine an existing and new element when this function is called and the element to insert is already in the tree. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">del</td><td>called on any element before deleting it. can be NULL if no action is required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure (if hash or cmp is NULL) </dd></dl>

</div>
</div>
<a id="abed62bd620bc2114e84247fc8122ec58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed62bd620bc2114e84247fc8122ec58">&#9670;&nbsp;</a></span>cr8r_hash_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr8r_hash_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>reserve</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a hash table. </p>
<p>The <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> argument should be configured manually. This is not likely to change. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">reserve</td><td>how many entries to reserve space for. This is rounded up to a power of 2 and then DOWN to a prime. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a id="aaec8f26b3fd50f09f1c5f77df1db1d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaec8f26b3fd50f09f1c5f77df1db1d74">&#9670;&nbsp;</a></span>cr8r_hash_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cr8r_hash_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to an entry in the hash table. </p>
<p>This pointer could be invalidated if a new element is inserted into the hash table, or if any operation is performed while the secondary table is present. Thus the entry should be copied if it is needed after additional operations. If the hash table should be available from multiple threads, an external lock should be used. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key to search the hash table for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the element if found (which could be invalidated by another hash table operation) or NULL if absent </dd></dl>

</div>
</div>
<a id="a5cb4908370871efaf5e1f9062e705d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb4908370871efaf5e1f9062e705d53">&#9670;&nbsp;</a></span>cr8r_hash_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cr8r_hash_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert an element into the hash table. </p>
<p>The element is copied from the pointer provided, so keep in mind both the "key" and "value" components of it should be initialized. Returns a pointer to the inserted element. As with <a class="el" href="hash_8h.html#aaec8f26b3fd50f09f1c5f77df1db1d74">cr8r_hash_get</a>, this pointer could be invalidated if another hash table operation is called, and the hash table should be externally locked if the hash table should be available from multiple threads. This function will not modify the hash table if an entry with the same key already exists, but a pointer to the existing element will be returned. <a class="el" href="hash_8h.html#a10b2be8a15ee34e093470226d4b4954f">cr8r_hash_append</a> can be used to change the behavior for existing keys. The status reported can be used to differentiate between the element being inserted and already being present. If the additional entry would bring the total number of entries over the capacity, the table expands with a second internal buffer. The capacity is recalculated according to the load factor supplied to this function, the number of elements to move per incremental rehash is recomputed (it is always 1 or 2 currently), and any future calls to most hash table operations will move this many elements from the old table to the new table until it can be free'd. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>element to insert. "key" and "value" components should be initialized. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>if not NULL, this pointer is set to 1 on success, 2 if an element with the same key is present already, and 0 on allocation failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to an element with the same key if one exists, otherwise a pointer to the element inserted into the hash table, as if <a class="el" href="hash_8h.html#aaec8f26b3fd50f09f1c5f77df1db1d74">cr8r_hash_get</a> were called atomically afterwards </dd></dl>

</div>
</div>
<a id="a10b2be8a15ee34e093470226d4b4954f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10b2be8a15ee34e093470226d4b4954f">&#9670;&nbsp;</a></span>cr8r_hash_append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cr8r_hash_append </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert an element into the hash table or modify its value. </p>
<p>Similar to <a class="el" href="hash_8h.html#a5cb4908370871efaf5e1f9062e705d53">cr8r_hash_insert</a> except that if an element with the same key is present already, <a class="el" href="structcr8r__hashtbl__ft.html#a063fe066ff108b753fa084c5e0441d0e">cr8r_hashtbl_ft::add</a> is called to allow the existing element and even potentially the element pointed to by key to be modified. The latter is useful if elements "own" some resource, for example freeing a string in key after appending it to the string in the existing element. This function requires the add function to be specified. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">key</td><td>element to insert or modify existing element with. "key" and "value" components should be initialized. Can be modified if an element with the same key exists and the add function modifies its second argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>if not NULL, this pointer is set to 1 on success, 2 if an element with the same key is present already, and 0 on allocation failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to an element with the same key if one exists, otherwise a pointer to the element inserted into the hash table, as if <a class="el" href="hash_8h.html#aaec8f26b3fd50f09f1c5f77df1db1d74">cr8r_hash_get</a> were called atomically afterwards </dd></dl>

</div>
</div>
<a id="a22608115942167ecbb8f360b221e6daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22608115942167ecbb8f360b221e6daa">&#9670;&nbsp;</a></span>cr8r_hash_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cr8r_hash_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the element with a given key. </p>
<p>Equivalent to <a class="el" href="hash_8h.html#aaec8f26b3fd50f09f1c5f77df1db1d74">cr8r_hash_get</a> followed by <a class="el" href="hash_8h.html#ae5d9fee9a0b621015764ecfd9fdd88b4">cr8r_hash_delete</a>. Sets the deleted bit in the hash table, although this bit is currently unused. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>"key" of the element to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the element is found (and removed), 0 if the element is not found </dd></dl>

</div>
</div>
<a id="ae5d9fee9a0b621015764ecfd9fdd88b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5d9fee9a0b621015764ecfd9fdd88b4">&#9670;&nbsp;</a></span>cr8r_hash_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cr8r_hash_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an element of the hash table by pointer. </p>
<p>Useful if the element has already been found via <a class="el" href="hash_8h.html#aaec8f26b3fd50f09f1c5f77df1db1d74">cr8r_hash_get</a> or <a class="el" href="">cr8r_hash_next</a>. Sets the deleted bit, although this is currently unused. Does NOT incrementally move entries from the old internal table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ent</td><td>the element to delete </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab8653d192969d6e4aaf4550476848876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8653d192969d6e4aaf4550476848876">&#9670;&nbsp;</a></span>cr8r_hash_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cr8r_hash_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all entries from the hash table. </p>
<p><a class="el" href="structcr8r__hashtbl__ft.html#a9963013838e00397269e333d10781c60">cr8r_hashtbl_ft::del</a> is called on every entry if specified, otherwise this is constant time assuming free is. Does not set the unused deleted bit unless a delete function is specified. Frees the older, smaller internal table if two are present, which will also cause incremental moving to stop the next time it would occur. </p>

</div>
</div>
<a id="aa6bd568a7a8d50a91bee2caab9611039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bd568a7a8d50a91bee2caab9611039">&#9670;&nbsp;</a></span>cr8r_hash_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cr8r_hash_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__t.html">cr8r_hashtbl_t</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcr8r__hashtbl__ft.html">cr8r_hashtbl_ft</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the resources held by the hashtable. </p>
<p>If <a class="el" href="structcr8r__hashtbl__ft.html#a9963013838e00397269e333d10781c60">cr8r_hashtbl_ft::del</a> is specified, it is called on every entry before free is called, otherwise, this function is constant time if free is. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_27aea823fd5451555362d8413ef076c0.html">crater</a></li><li class="navelem"><a class="el" href="hash_8h.html">hash.h</a></li>
    <li class="footer">Generated on Wed Nov 17 2021 05:35:06 for Crater Container Library by <a href="https://www.doxygen.org/index.html">Doxygen</a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
